                # TurboMC Configuration File
# Configuración optimizada para servidor de alto rendimiento

[compression]
# Algoritmo de compresión: "zstd" (más rápido/mejor), "lz4" (rápido), o "zlib" (compatible vanilla)
algorithm = "zstd"

# Nivel de compresión
# - Para Zstd: 1-22 (3 es estándar, 1 es ultra-rápido)
# - Para LZ4: 1-17
level = 3

# Migrar automáticamente datos zlib antiguos a formato ZSTD
auto-migrate = true

# Habilitar fallback a zlib si falla la descompresión ZSTD
fallback-enabled = true

[storage]
# Formato de archivo de región: "auto" (detectar), "lrf" (optimizado), o "mca" (vanilla)
format = "lrf"

# Convertir automáticamente MCA a LRF al cargar chunks
auto-convert = true

# Modo de conversión: "on-demand" (convertir según carga), "background" (tiempo inactivo), "full-lrf" (convertir todo al inicio), o "manual"
conversion-mode = "on-demand"

# Hacer backup de archivos MCA originales antes de eliminar
backup-original-mca = false

# Configuración de operaciones batch
[storage.batch]
# Habilitar carga/guardado batch de chunks
enabled = true

# Número de hilos para operaciones batch de carga
load-threads = 8

# Número de hilos para operaciones batch de guardado  
save-threads = 4

# Máximo de chunks por operación batch
batch-size = 64

# Máximo de operaciones de carga concurrentes
max-concurrent-loads = 64

# Motor de read-ahead con memory-mapped
[storage.mmap]
# Habilitar read-ahead memory-mapped para optimización SSD/NVMe
enabled = true

# Tamaño máximo de caché en número de chunks
max-cache-size = 1024

# Distancia de prefetch en chunks desde la posición del jugador
prefetch-distance = 8

# Tamaño de batch de prefetch
prefetch-batch-size = 32

# Prefetching Predictivo/Cinemático
# Analiza vectores de movimiento para pre-cargar chunks en dirección de viaje
predictive-enabled = true

# Escala de predicción (cuántos chunks adelante buscar)
prediction-scale = 6

# Uso máximo de memoria para caché (en MB)
max-memory-usage = 512

# Usar Java 22+ Foreign Memory API si está disponible
use-foreign-memory-api = true

# Sistema de validación de integridad
[storage.integrity]
# Habilitar validación de integridad de chunks con checksums
enabled = true

# Algoritmo de checksum primario: "crc32", "crc32c", "sha256"
primary-algorithm = "crc32c"

# Algoritmo de checksum de respaldo para verificación (null para deshabilitar)
backup-algorithm = "sha256"

# Habilitar reparación automática desde backups
auto-repair = true

# Número de hilos de validación
validation-threads = 2

# Intervalo de validación en milisegundos (5 minutos)
validation-interval = 300000

[quality]
# Optimizaciones de calidad y renderizado
# TPS objetivo para ajustes de calidad
tps-threshold = 18

# Umbral de uso de memoria para ajustes de calidad (0.8 = 80%)
memory-threshold = 0.8

# Intervalo de ajuste en ticks del servidor (1200 = 1 minuto)
adjustment-interval-ticks = 1200

# Habilitar ajustes automáticos de calidad basados en rendimiento
auto_adjust_enabled = true

# Preset de calidad por defecto: LOW, MEDIUM, HIGH, ULTRA, DYNAMIC
default-preset = "HIGH"

# Optimización de entity culling
entity_culling_enabled = true

# Optimización de efectos de partículas
particle_optimization_enabled = true

[fps]
# Configuración de optimización FPS
# TPS objetivo para optimización
target-tps = 20

# Tolerancia TPS para ajustes de optimización (±0.5 TPS)
tps-tolerance = 0.5

# Intervalo de verificación de optimización en ticks (100 = 5 segundos)
optimization-interval-ticks = 100

# Optimización de redstone
redstone_optimization_enabled = true

# Optimización de rango de activación de entidades
entity_optimization_enabled = true

# Optimización de hoppers
hopper_optimization_enabled = true

# Optimización de spawn de mobs
mob_spawning_optimization_enabled = true

# Optimización de chunk ticking
chunk_ticking_optimization_enabled = true

# Modo de optimización por defecto: CONSERVATIVE, BALANCED, PERFORMANCE, EXTREME, ADAPTIVE
default-mode = "BALANCED"

[chunk]
# Configuración de optimización de carga de chunks
# Habilitar precarga inteligente de chunks
preloading_enabled = true

# Habilitar generación paralela de chunks
parallel_generation_enabled = true

# Habilitar caché de chunks
caching_enabled = true

# Habilitar carga basada en prioridades
priority_loading_enabled = true

# Uso máximo de memoria para caché de chunks (en MB)
max-memory-usage-mb = 512

# Umbral de memoria para limpieza de caché (0.8 = 80%)
memory-threshold = 0.8

# Estrategia de carga por defecto: CONSERVATIVE, BALANCED, AGGRESSIVE, EXTREME, ADAPTIVE
default-strategy = "BALANCED"

[version-control]
# Versión mínima de Minecraft permitida para conectarse (ej: "1.20.1")
minimum-version = "1.20.1"

# Versión máxima de Minecraft permitida (usualmente versión del servidor)
maximum-version = "1.21.10"

# Lista de versiones específicas a bloquear (ej: ["1.20.3", "1.20.4"])
blocked-versions = []

[web-viewer]
# Configuración de TurboMC Web Viewer
# Visor de mapa interactivo para inspección de mundo y análisis de chunks

# Habilitar/deshabilitar web viewer
enabled = true

# Puerto del servidor web (por defecto: 8080)
port = 8080

# Interfaz de host (0.0.0.0 para todas las interfaces, localhost solo local)
host = "0.0.0.0"

# Máximo de conexiones concurrentes
max-connections = 50

# Tamaño de caché en MB
cache-size-mb = 64

# Intervalo de auto-refresco en segundos (0 = deshabilitado)
auto-refresh-interval-seconds = 30

[web-viewer.map-display]
# Configuración de visualización del mapa

# Nivel de zoom por defecto (0.1 = lejos, 5.0 = cerca)
default-zoom = 1.0

# Nivel máximo de zoom
max-zoom = 5.0

# Nivel mínimo de zoom
min-zoom = 0.1

# Tamaño del chunk en píxeles al zoom 1.0
chunk-pixel-size = 16

# Mostrar límites de chunks
show_chunk_boundaries = true

# Mostrar límites de regiones
show_region_boundaries = true

# Mostrar cuadrícula de coordenadas
show_coordinate_grid = true

# Auto-centrar en chunks cargados
auto_center_loaded_chunks = true

[web-viewer.chunk-analysis]
# Análisis de chunks y detección de corrupción

# Habilitar detección de corrupción de chunks
corruption-detection = true

# Resaltar chunks corruptos
highlight-corrupted = true

# Habilitar análisis profundo de chunks
deep-analysis-enabled = true

# Intervalo de análisis en segundos (60 = 1 minuto)
analysis-interval-seconds = 60

[web-viewer.players]
# Funcionalidades de jugadores

# Mostrar posiciones de jugadores en tiempo real
show_players = true

# Permitir teletransporte mediante clics en mapa
allow_teleport = true

# Mostrar trails de jugadores
show_player_trails = true

# Intervalo de actualización de posiciones (segundos)
position-update-interval = 5

# Mostrar información detallada de jugadores
show_player_details = true

[web-viewer.admin]
# Funcionalidades administrativas

# Permitir ejecución de comandos desde interfaz web
allow_command_execution = true

# Permitir gestión de jugadores
allow_player_management = true

# Mostrar estadísticas del servidor
show_server_stats = true

# Permitir inspección de chunks
allow_chunk_inspection = true

# Permitir gestión de mundos
allow_world_management = true

[web-viewer.security]
# Configuración de seguridad

# Requerir autenticación para funciones administrativas
require-auth = false

# IPs permitidas (vacío = permitir todas)
allowed-ips = []

# IPs bloqueadas
blocked-ips = []

# Rate limiting (solicitudes por minuto por IP)
rate-limit = 60

# Habilitar CORS para desarrollo
cors-enabled = true

[web-viewer.performance]
# Configuración de rendimiento

# Máximo de chunks a renderizar simultáneamente
max-chunks-render = 100

# TTL de caché de datos de chunks (segundos)
chunk-cache-ttl = 300

# Habilitar carga lazy de chunks
lazy-chunk-loading = true

# Precargar chunks alrededor del spawn
preload-spawn-chunks = true

# Número de hilos para procesamiento de datos
processing-threads = 4

# Tamaño máximo de buffer en MB
max-buffer-size-mb = 128

# Habilitar compresión de respuestas HTTP
compress-responses = true

[web-viewer.ui]
# Configuración de interfaz de usuario

# Tema: "dark", "light", "auto"
theme = "dark"

# Idioma: "es", "en", "auto"
language = "es"

# Habilitar animaciones y transiciones
animations-enabled = true

# Habilitar efectos visuales
visual-effects = true

# Mostrar tooltips informativos
show-tooltips = true

# Habilitar sonido de notificaciones
notification-sound = true

# Opacidad del fondo (0.0 - 1.0)
background-opacity = 0.9

# Habilitar modo pantalla completa
fullscreen-enabled = true

[web-viewer.logging]
# Configuración de logging

# Nivel de log: "DEBUG", "INFO", "WARN", "ERROR"
log-level = "INFO"

# Habilitar logging de acceso
access-log-enabled = true

# Habilitar logging de errores
error-log-enabled = true

# Formato de timestamp
timestamp-format = "yyyy-MM-dd HH:mm:ss"

# Máximo tamaño de archivo de log en MB
max-log-size-mb = 10

# Número máximo de archivos de log a conservar
max-log-files = 5

# Habilitar logging a consola
console-log-enabled = true

[web-viewer.backup]
# Configuración de backups

# Habilitar backups automáticos
auto-backup-enabled = true

# Intervalo de backups en horas
backup-interval-hours = 6

# Número máximo de backups a conservar
max-backups = 24

# Comprimir backups
compress-backups = true

# Directorio de backups
backup-directory = "./backups/webviewer"

# Incluir datos de configuración en backup
include-config = true

# Incluir datos de caché en backup
include-cache = false

[storage.unified]
# Configuración de Unified Chunk Queue (Fase 3)

# Habilitar cola unificada de chunks
enabled = true

# Tamaño máximo de la cola
max-queue-size = 10000

# Máximo de tareas concurrentes
max-concurrent-tasks = 64

# Habilitar deduplicación automática
enable-deduplication = true

[storage.dynamic]
# Configuración Dinámica (Fase 5)

# Habilitar configuración dinámica basada en hardware
enabled = true

# Modo de ajuste: conservative, balanced, aggressive, adaptive
adjustment-mode = "adaptive"

# Intervalo de ajuste en segundos
adjustment-interval-seconds = 30

# Intervalo de refresh de hardware profile en segundos
profile-refresh-interval-seconds = 60

# Umbrales de presión
memory-pressure-high = 0.85
memory-pressure-low = 0.4
cpu-pressure-high = 0.8
cpu-pressure-low = 0.3

# Auto-aplicar configuración optimizada
auto-apply-optimized = false